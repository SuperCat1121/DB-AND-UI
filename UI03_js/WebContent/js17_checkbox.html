<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js17</title>
<style type="text/css">

	#colorbox {
		width: 320px;
		height: 320px;
		position: relative;
	}
	
	#red, #yellow, #blue, #black {
		width: 150px;
		height: 150px;
		border: 1px solid black;
		position: absolute;
	}
	
	#yellow {
		left: 160px;
	}
	
	#blue {
		top: 160px;
	}
	
	#black {
		left: 160px;
		top: 160px;
	}

</style>
<script type="text/javascript">

	function allChk(check) {
		var chks=document.getElementsByName("chk");
		for(var i=0;i<chks.length;i++) {
			chks[i].checked = check;
		}
	}
	
	function sel() {
		var chks=document.getElementsByName("chk");

		for(var i=0;i<chks.length;i++) {
			if(chks[i].checked) {
				document.getElementById(chks[i].value).style.background = chks[i].value;
			} else {
				document.getElementById(chks[i].value).style.background = "none";
			}
		}
	}
	
	function cancel() {
		var chks=document.getElementsByName("chk");
		
		document.getElementsByName("all")[0].checked = false;
		
		for(var i=0;i<chks.length;i++) {
			chks[i].checked = false;
		}
		
		/*
		var colorBox = document.queryselectorAll("#colorbox > div");
		for(var i=0;i<colorBox.length;i++) {
			colorBox[i].style.background="white";
		}
		document.getElementsByName("all")[0].checked = false;
		allChk(false);
		*/
	}
	
	function click() {
		var chks = document.getElementsByName("chk");
		var allChkFlag = 0;
		for(var i=0;i<chks.length;i++) {
			if(cks[i].checked){
				allChkFlag = 1;
			}
		}
		if(alChkFlag==1) {
			document.getElementByName("all")[0].checked = true;
		} else {
			document.getElementByName("all")[0].checked = false;
		}
	}

</script>
</head>
<body>
	<div id="colorbox">
		<div id="red">red</div>
		<div id="yellow">yellow</div>
		<div id="blue">blue</div>
		<div id="black">black</div>
	</div>
	
	<div id="base">
		<form action="">
			<input type="checkbox" name="all" onclick="allChk(this.checked);">전체선택<br>
			<input type="checkbox" name="chk" value="red" onclick="click();">빨강<br>
			<input type="checkbox" name="chk" value="yellow">노랑<br>
			<input type="checkbox" name="chk" value="blue">파랑<br>
			<input type="checkbox" name="chk" value="black">검정<br>
			<input type="button" value="선택" onclick="sel();">
			<input type="button" value="취소" onclick="cancel();">
		</form>
	</div>
</body>
</html>














































